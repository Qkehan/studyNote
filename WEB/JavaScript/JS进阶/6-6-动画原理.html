<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>动画原理</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        div{
            position: absolute;  
            left: 0;  
            width: 100px;  
            height: 100px;  
            background-color: pink;  
            z-index: 10;
        }
        span{
            position: absolute;
            display: block;
            left: 0; 
            top: 100px;
            width: 150px;
            height: 150px;  
            background-color: purple;
        }

    </style>
</head>
<body>
    <div></div>
    <span></span>
    

    <script>
        //-----【动画实现原理】-----      
        //核心原理：通过定时器setInterval()不断移动盒子位置    
        //实现步骤：
        //1、获取盒子当前位置  
        //2、让盒子在当前位置加上1个移动距离   
        //3、利用定时器不断重复这个操作    
        //4、加一个结束定时器的条件  
        //5、注意此元素需要添加定位，才能使用element.style.left    
        //
        //------【动画函数的封装】------      
        //注意函数需要传递两个参数，动画对象 & 移动到的距离  


        var div = document.querySelector('div');   
        var span = document.querySelector('span');  
        var i = 0; 
        
        //简单的动画封装 ,传递两个参数 obj目标对象 target目标位置      
        function animate(obj, target){
            var moveDiv = setInterval(function(){
                var sinX = Math.sin(i/(target/1.745));  //三角周期函数1.745，使得动画拥有周期   
                obj.style.left = obj.offsetLeft + sinX + 'px';   //数值==1.2   
                /*
                if(obj.offsetLeft >= 400){
                    //stop动画  clear定时器  
                    clearInterval(moveDiv);  
                }
                */
                i ++;
                obj.innerHTML = obj.offsetLeft;  
            }, );
            
        };  
        //试一下调用  
        animate(div, 300);   
        animate(span, 200);  

        









    </script>
</body>
</html>